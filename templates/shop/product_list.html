{% extends 'shop/base.html' %}

{% block title %}מוצרים - לב שומע{% endblock %}

{% block content %}
<h2>המוצרים שלנו</h2>

{% if categories %}
    <div style="margin-bottom: 20px;">
        <strong>קטגוריות:</strong>
        {% for category in categories %}
            <span style="background: #e9ecef; padding: 5px 10px; border-radius: 15px; margin: 5px; display: inline-block;">
                {{ category.name }}
            </span>
        {% endfor %}
    </div>
{% endif %}

{% if products %}
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
        {% for product in products %}
        <div style="border: 1px solid #ddd; border-radius: 8px; padding: 15px; background: white;">
            <div style="width: 100%; height: 200px; background: #f0f0f0; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: #666; margin-bottom: 10px;">
                {% if product.image %}
                    <img src="{{ product.image.url }}" alt="{{ product.name }}" style="width:100%; height:100%; object-fit:cover; border-radius:4px;">
                {% else %}
                    אין תמונה
                {% endif %}
            </div>
            <div style="font-size: 18px; font-weight: bold; margin-bottom: 10px;">{{ product.name }}</div>
            <div style="color: #666; margin-bottom: 10px;">{{ product.description|truncatewords:10 }}</div>
            <div style="color: #007bff; font-size: 20px; font-weight: bold;">₪{{ product.price }}</div>
            <div style="color: #666; font-size: 14px;">מלאי: {{ product.stock }}</div>
            <a href="{% url 'shop:product_detail' product.id product.slug %}" class="btn" style="margin-top: 10px;">פרטים נוספים</a>
        </div>
        {% endfor %}
    </div>
{% else %}
    <div style="text-align: center; color: #666; font-size: 18px; margin: 40px 0;">
        <h3>אין מוצרים זמינים כרגע</h3>
        <p>אנא פנה לאדמין להוספת מוצרים</p>
        <a href="/admin/" class="btn">לממשק הניהול</a>
    </div>
{% endif %}
{% endblock %}